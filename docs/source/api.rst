Connecting to the API
=====================

API Basics
----------

The API uses HTTP Basic authentication, where the API key is passed as the username and the password is left empty. Thus, every API request must include the mandatory Authorization header in the following format:

``Authorization: Basic <authKey>``

The <authKey> field in the Authorization header is generated by base64 encoding a string made up of the API key followed by a colon.

.. note::
    You can find your API key in your profile on the `Adspect <https://clients.adspect.ai/profile>`_ website.

| Some HTTP clients natively support HTTP Basic authentication and automatically add the Authorization header.
| For example, Python Requests provides the requests.auth.HTTPBasicAuth class. In this case, specify your API key as the username and leave the password empty.

.. | To use the API, a GET request is made. The main URL for using the API becomes available after subscribing to the PRO plan: https://api.comsign.io/v2.
.. | To authorize the API key, the following header is added to the request - headers: {'Authorization': 'Basic EnXSA1m3p3L0E0EHXVAzmWpzlkeyE1X6amm2P0LCEDg6'}
.. | The Authorization header can be found in your personal account on the Adspect website.

GET Parameters
--------------

To generate a safe page (preview or ZIP archive), you need to send an HTTP GET request to the URL *https://api.comsign.io/v2*, specifying the generation settings in the URL parameters.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * - Required
     - Parameter
     - Description
   * - Yes
     - ``product``
     -  | Generator selection:
        | ``sf`` – SafePage generator.
        | ``gp`` – GooglePage generator.
        | ``gp_v2`` – GooglePage v2.0 generator.
        | ``ms`` – MicrosoftPage generator.
        | ``ap`` – ApplePage generator.
        | ``wp`` – WordPress (HTML) generator.
        | ``wp&php=1`` – WordPress (PHP) generator.
   * - Yes
     - ``target``
     -  | Topic or URL to fill the safe with content.
        | For WP and SF generators, you need to specify one of the available topics:
        | ``beauty``
        | ``travel``
        | ``music``
        | ``food``
        | ``science``
        | ``gaming``
        | ``energy``
        | ``news``
        | ``sport``
        | ``tech``
        | ``world``
        | ``finance``
        | ``politics``
        | ``business``
        | ``economics``
        | ``entertainment``
        | For GooglePage, ApplePage and MicrosoftPage generators, use the URL link to the app.
   * - Yes
     - ``lang``
     - | Selecting the necessary language for the safe page translation. Specify in the format: language_COUNTRY.
       | A list of available languages with codes is provided below.
   * - No
     - ``keywords``
     - | Keywords for integration into the safe page, specify separated by commas.
   * - No
     - ``domain``
     - | Domain name for integration into TOS&Privacy, specify in the format: *https://example.com* or *example.com*.
   * - No
     - ``sid``
     - | Reverse PHP integration with Adspect cloaking.
       | To activate, substitute the *stream_id* key from the Adspect stream.
   * - No
     - ``zip=true``
     - | A ZIP file with the safe page will be delivered. When this parameter is active, the download limit is charged.
       | If the parameter is absent, a JPG preview will be delivered instead of the file.
   * - No
     - ``seed``
     - | Template generation number, a random set of characters.
       | If the value is empty, the ``seed`` will be generated automatically.
       | If the value is not changed, the safe page template will be regenerated.

.. - product - generator selection:
..  * sf – SafePage generator.
..  * gp – GooglePlay generator.
..  * ap – AppStore generator.
..  * wp – WordPress (HTML) generator.
..  * wp&php=1 – WordPress (PHP) generator.

.. - keywords – keywords for integration into the white, specify separated by commas.

.. - domain – domain name for integration into TOS&Privacy, specify in the format *https://example.com* or *example.com*

.. - lang – selecting the necessary language for generation. Specify in the format: language_COUNTRY

.. - seed – template generation number, a random set of letters or numbers. If the parameter value is empty, the seed will be generated automatically.

.. - target – topic or URL to fill the white with content. For WP and SF generators, specify one of the available topics. For Google Play and App Store generators, use the URL link.

.. - zip=true – a ZIP file with the white will be delivered. When this parameter is active, the download limit is charged. If the ``zip`` parameter is absent, a JPG preview will be delivered instead.

.. - sid – parameter required for stream integration with cloaking. It extracts the filter.php file and writes index.php. To activate the parameter, substitute the stream_id key from the Adspect stream.

Example of a relevant URL for working with the API::

 https://api.comsign.io/v2?aid=2e2bbf52-adnc-5819-963c-8e0d48b26e9&keywords=example,keys&domain=example.com&lang=en_US&product=wp&sid=3eb2a9d3-9k93-3etc-ci88-ac1f6f92a854&target=food&zip=true

Available Language Codes
------------------------

.. | Albanian - sq_AL
.. | Amharic - am_ET
.. | Arabian - ar_SA
.. | Armenian - hy_AM
.. | Azerbaijanian - az_AZ
.. | Belarusian - be_BY
.. | Bengal - bn_BD
.. | Bulgarian - bg_BG
.. | Burmese - my_MM
.. | Chinese - zh_CH
.. | Croatian - hr_HR
.. | Czech - cs_CZ
.. | Danish - da_DK
.. | Dutch - nl_NL
.. | English - en_US
.. | Estonian - et_EE
.. | Faroese - fo_FO
.. | Finnish - fi_FI
.. | French - fr_FR
.. | Georgian - ka_GE
.. | German - de_DE
.. | Greek - el_GR
.. | Guarani - gn_PY
.. | Hebrew - he_IL
.. | Hindi - hi_IN
.. | Hungarian - hu_HU
.. | Icelandic - is_IS
.. | Indonesian - id_ID
.. | Irish - ga_IE
.. | Italian - it_IT
.. | Japanese - ja_JP
.. | Kazakh - kk_KZ
.. | Khmer - km_KH
.. | Korean - ko_KR
.. | Kyrgyz - ky_KG
.. | Lao - lo_LA
.. | Latvian - lv_LV
.. | Lithuanian - lt_LT
.. | Luxembourgish - lb_LU
.. | Macedonian - mk_MK
.. | Malay - ms_MY
.. | Maltese - mt_MT
.. | Mongolian - mn_MN
.. | Norwegian - no_NO
.. | Persian - fa_IR
.. | Polish - pl_PL
.. | Portuguese - pt_PT
.. | Punjabi - pa_IN
.. | Romanian - ro_RO
.. | Russian - ru_RU
.. | Serbian - sr_RS
.. | Slovenian - sl_SL
.. | Spanish - es_ES
.. | Swahili - sw_KE
.. | Swati - ss_SZ
.. | Swedish - sv_SE
.. | Telugu - te_IN
.. | Thai - th_TH
.. | Turkish - tr_TR
.. | Turkmen - tk_TM
.. | Ukrainian - uk_UA
.. | Urdu - ur_PK
.. | Uzbek - uz_UZ
.. | Vietnamese - vi_VN
.. | Zulu - zu_ZA


================================  =======

Language                          Code

================================  =======
Albanian (soon)                    sq_AL 
Amharic (soon)                     am_ET
English                            en_US
Arabic                             ar_SA
Armenian                           hy_AM
Azerbaijani                        az_AZ
Belarusian                         be_BY
Bengali                            bn_BD
Burmese (soon)                     my_MM
Bulgarian                          bg_BG
Hungarian                          hu_HU
Vietnamese                         vi_VN
Dutch                              nl_NL
Greek                              el_GR
Georgian                           ka_GE
Guarani (soon)                     gn_PY
Danish                             da_DK
Zulu (soon)                        zu_ZA
Hebrew                             he_IL
Icelandic                          is_IS
Spanish                            es_ES
Italian                            it_IT
Irish                              ga_IE
Kazakh                             kk_KZ
Khmer (soon)                       km_KH
Chinese                            zh_CH
Korean                             ko_KR
Kyrgyz (soon)                      ky_KG
Lao (soon)                         lo_LA
Latvian                            lv_LV
Lithuanian                         lt_LT
Luxembourgish (soon)               lb_LU
Macedonian                         mk_MK
Malay                              ms_MY
Maltese (soon)                     mt_MT
Mongolian                          mn_MN
German                             de_DE
Norwegian                          no_NO
Persian (soon)                     fa_IR
Polish                             pl_PL
Portuguese                         pt_PT
Punjabi (soon)                     pa_IN
Romanian                           ro_RO
Russian                            ru_RU
Serbian                            sr_RS
Swahili (soon)                     sw_KE
Swati (soon)                       ss_SZ
Slovenian                          sl_SL
Thai                               th_TH
Telugu (soon)                      te_IN
Turkish                            tr_TR
Turkmen (soon)                     tk_TM
Ukrainian                          uk_UA
Urdu (soon)                        ur_PK
Uzbek (soon)                       uz_UZ
Finnish                            fi_FI
French                             fr_FR
Hindi                              hi_IN
Croatian                           hr_HR
Czech                              cs_CZ
Swedish                            sv_SE
Estonian                           et_EE
Faroese (soon)                     fo_FO
Japanese                           ja_JP
================================  =======









